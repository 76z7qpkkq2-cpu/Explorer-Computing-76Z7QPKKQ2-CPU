
import streamlit as st
import pandas as pd

st.set_page_config(page_title="ë‚˜ì˜ ì†Œê°œ & ìˆ˜ì—… ì‹œê°„í‘œ", page_icon="ğŸ“", layout="wide")

# --------------------------
# ìƒíƒœê°’: ìê¸°ì†Œê°œ â†” ì‹œê°„í‘œ ì „í™˜
# --------------------------
if "view" not in st.session_state:
    st.session_state.view = "ìê¸°ì†Œê°œ"

def flip_view():
    st.session_state.view = "ì‹œê°„í‘œ" if st.session_state.view == "ìê¸°ì†Œê°œ" else "ìê¸°ì†Œê°œ"

# ìƒë‹¨ ì œëª© + ì „í™˜ ë²„íŠ¼
col1, col2 = st.columns([1, 1])
with col1:
    st.title("âœ¨ ë‚˜ì˜ Streamlit í˜ì´ì§€")
with col2:
    label = "ğŸª„ ì „í™˜: í˜„ì¬ â†’ " + ("ì‹œê°„í‘œ" if st.session_state.view == "ìê¸°ì†Œê°œ" else "ìê¸°ì†Œê°œ")
    if st.button(label, use_container_width=True):
        flip_view()

st.markdown("---")

# ============================================================
# â‘  ìê¸°ì†Œê°œ í˜ì´ì§€ (Ex_ch10_text.py ìŠ¤íƒ€ì¼)
# ============================================================
def intro_page():
    st.markdown("# ë‚˜ì˜ ì†Œê°œ í˜ì´ì§€")

    st.header("ìê¸°ì†Œê°œ")
    st.markdown(
        '''
        ì•ˆë…•í•˜ì„¸ìš”, ì œ ì´ë¦„ì€ **ì‹ ì§€ìŠ¹**ì…ë‹ˆë‹¤.  
        ì €ëŠ” **ë°ì´í„° ë¶„ì„**ê³¼ **ì¸ê³µì§€ëŠ¥**ì— ê´€ì‹¬ì´ ìˆìŠµë‹ˆë‹¤.
        '''
    )

    st.header("ì¢‹ì•„í•˜ëŠ” ê²ƒ")
    st.markdown(
        '''
        ì €ëŠ” ì—¬í–‰ê³¼ ë…ì„œë¥¼ ì¢‹ì•„í•©ë‹ˆë‹¤.  
        ìì£¼ ë°©ë¬¸í•˜ëŠ” ì‚¬ì´íŠ¸ëŠ” [Streamlit ê³µì‹ í™ˆí˜ì´ì§€](https://streamlit.io) ì…ë‹ˆë‹¤.
        '''
    )

    st.header("ì•ìœ¼ë¡œì˜ ëª©í‘œ")
    st.markdown("ì•ìœ¼ë¡œ ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì‹¤ë ¥ì„ í‚¤ìš°ê³  ì‹¶ìŠµë‹ˆë‹¤.")

    st.markdown("ì œê°€ ì¢‹ì•„í•˜ëŠ” íŒŒì´ì¬ ì½”ë“œ ì˜ˆì‹œ")
    st.code(
        '''for i in range(3):
    print("Hello, Streamlit!")''',
        language="python",
    )

    st.caption("í”¼íƒ€ê³ ë¼ìŠ¤ ì •ë¦¬")
    st.latex(r"a^2 + b^2 = c^2")

# ============================================================
# â‘¡ ìˆ˜ì—… ì‹œê°„í‘œ í˜ì´ì§€ (Ex_ch10_data.py + st.metric)
# ============================================================
def timetable_page():
    st.markdown("# ğŸ“š ë‚˜ì˜ ìˆ˜ì—… ì‹œê°„í‘œ")

    # ì •ì  ì‹œê°„í‘œ í…Œì´ë¸”
    st.subheader("ì •ì  ì‹œê°„í‘œ (st.table)")
    data = {
        "ìš”ì¼": ["ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ"],
        "1êµì‹œ": ["ì˜ì–´", "ì „ê³µ", "ëŒ€í•™ì˜ì–´", "ìˆ˜í•™", "ì»´íƒ"],
        "2êµì‹œ": ["", "ì „ê³µ", "ê¸€ì“°ê¸°", "ìˆ˜í•™", "ì»´íƒ"],
        "3êµì‹œ": ["ì˜ì–´", "ì „ê³µ", "ì˜ì–´", "í†µê³„í•™", "ì»´íƒ"],
    }
    df = pd.DataFrame(data)
    st.table(df)

    # ìˆ˜ì—… ì •ë³´ JSON
    st.subheader("ìˆ˜ì—… ì •ë³´ (st.json)")
    info = {
        "ì „ê³µ": {"êµìˆ˜": "ë³€í˜œì„ ", "ê°•ì˜ì‹¤": "26ë™ 104í˜¸"},
        "ì˜ì–´": {"êµìˆ˜": "ì´í˜•ë¯¼", "ê°•ì˜ì‹¤": "10ë™ 202í˜¸"},
        "ê¸€ì“°ê¸°": {"êµìˆ˜": "ê¹€ìœ ì§„", "ê°•ì˜ì‹¤": "12ë™ 101í˜¸"},
        "ìˆ˜í•™": {"êµìˆ˜": "ë°•ì¸ìˆ˜", "ê°•ì˜ì‹¤": "500ë™ 303í˜¸"},
    }
    st.json(info)

    # ì´ë²ˆ í•™ê¸° ìš”ì•½ (st.metric)
    st.subheader("ì´ë²ˆ í•™ê¸° ìš”ì•½ (st.metric)")
    col1, col2 = st.columns(2)
    with col1:
        st.metric(label="ìˆ˜ê°• ê³¼ëª© ìˆ˜", value="6")
    with col2:
        st.metric(label="ì´ í•™ì ", value="16", delta="+3")

# ============================================================
# ë Œë”ë§ (ë²„íŠ¼ìœ¼ë¡œ ì „í™˜)
# ============================================================
if st.session_state.view == "ìê¸°ì†Œê°œ":
    intro_page()
else:
    timetable_page()
